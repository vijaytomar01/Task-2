{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass APIService {\n  async placeOrder(productId, quantity) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/order`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          productId: parseInt(productId),\n          quantity: parseInt(quantity)\n        })\n      });\n\n      // Check response status and content type\n      const contentType = response.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        const text = await response.text();\n        throw new Error(`Invalid response: ${text || 'No response body'}`);\n      }\n      const data = await response.json();\n      if (!response.ok) {\n        var _data$error;\n        throw new Error(((_data$error = data.error) === null || _data$error === void 0 ? void 0 : _data$error.message) || 'Failed to place order');\n      }\n      return data;\n    } catch (error) {\n      if (error instanceof SyntaxError) {\n        throw new Error('Server error: Invalid response format. Make sure backend is running on http://localhost:5000');\n      }\n      throw new Error(error.message || 'Network error. Check if backend is running.');\n    }\n  }\n}\nexport default new APIService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","APIService","placeOrder","productId","quantity","response","fetch","method","headers","body","JSON","stringify","parseInt","contentType","get","includes","text","Error","data","json","ok","_data$error","error","message","SyntaxError"],"sources":["C:/Users/Vijay/OneDrive/Desktop/task/task2/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass APIService {\r\n  async placeOrder(productId, quantity) {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/order`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          productId: parseInt(productId),\r\n          quantity: parseInt(quantity),\r\n        }),\r\n      });\r\n\r\n      // Check response status and content type\r\n      const contentType = response.headers.get('content-type');\r\n      \r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        const text = await response.text();\r\n        throw new Error(`Invalid response: ${text || 'No response body'}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error?.message || 'Failed to place order');\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      if (error instanceof SyntaxError) {\r\n        throw new Error('Server error: Invalid response format. Make sure backend is running on http://localhost:5000');\r\n      }\r\n      throw new Error(error.message || 'Network error. Check if backend is running.');\r\n    }\r\n  }\r\n}\r\n\r\nexport default new APIService();\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAEjF,MAAMC,UAAU,CAAC;EACf,MAAMC,UAAUA,CAACC,SAAS,EAAEC,QAAQ,EAAE;IACpC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGT,YAAY,QAAQ,EAAE;QACpDU,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBR,SAAS,EAAES,QAAQ,CAACT,SAAS,CAAC;UAC9BC,QAAQ,EAAEQ,QAAQ,CAACR,QAAQ;QAC7B,CAAC;MACH,CAAC,CAAC;;MAEF;MACA,MAAMS,WAAW,GAAGR,QAAQ,CAACG,OAAO,CAACM,GAAG,CAAC,cAAc,CAAC;MAExD,IAAI,CAACD,WAAW,IAAI,CAACA,WAAW,CAACE,QAAQ,CAAC,kBAAkB,CAAC,EAAE;QAC7D,MAAMC,IAAI,GAAG,MAAMX,QAAQ,CAACW,IAAI,CAAC,CAAC;QAClC,MAAM,IAAIC,KAAK,CAAC,qBAAqBD,IAAI,IAAI,kBAAkB,EAAE,CAAC;MACpE;MAEA,MAAME,IAAI,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MAElC,IAAI,CAACd,QAAQ,CAACe,EAAE,EAAE;QAAA,IAAAC,WAAA;QAChB,MAAM,IAAIJ,KAAK,CAAC,EAAAI,WAAA,GAAAH,IAAI,CAACI,KAAK,cAAAD,WAAA,uBAAVA,WAAA,CAAYE,OAAO,KAAI,uBAAuB,CAAC;MACjE;MAEA,OAAOL,IAAI;IACb,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,IAAIA,KAAK,YAAYE,WAAW,EAAE;QAChC,MAAM,IAAIP,KAAK,CAAC,8FAA8F,CAAC;MACjH;MACA,MAAM,IAAIA,KAAK,CAACK,KAAK,CAACC,OAAO,IAAI,6CAA6C,CAAC;IACjF;EACF;AACF;AAEA,eAAe,IAAItB,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}