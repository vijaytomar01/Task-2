{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass APIService {\n  async placeOrder(productId, quantity) {\n    try {\n      const response = await fetch(`${API_BASE_URL}/order`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          productId: parseInt(productId),\n          quantity: parseInt(quantity)\n        })\n      });\n\n      // Get the response text first\n      const responseText = await response.text();\n\n      // Parse as JSON only if there's content\n      let data = {};\n      if (responseText) {\n        try {\n          data = JSON.parse(responseText);\n        } catch (e) {\n          console.error('Failed to parse response:', responseText);\n          throw new Error('Invalid JSON response from server');\n        }\n      } else {\n        throw new Error('No response from server');\n      }\n\n      // Check response status\n      if (!response.ok) {\n        var _data$error;\n        throw new Error(((_data$error = data.error) === null || _data$error === void 0 ? void 0 : _data$error.message) || `Server error: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      // Better error messages\n      if (error.message.includes('Failed to fetch')) {\n        throw new Error('Cannot connect to backend. Make sure it is running on http://localhost:5000');\n      }\n      throw new Error(error.message || 'Network error');\n    }\n  }\n}\nexport default new APIService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","APIService","placeOrder","productId","quantity","response","fetch","method","headers","body","JSON","stringify","parseInt","responseText","text","data","parse","e","console","error","Error","ok","_data$error","message","status","includes"],"sources":["C:/Users/Vijay/OneDrive/Desktop/task/task2/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass APIService {\r\n  async placeOrder(productId, quantity) {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/order`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          productId: parseInt(productId),\r\n          quantity: parseInt(quantity),\r\n        }),\r\n      });\r\n\r\n      // Get the response text first\r\n      const responseText = await response.text();\r\n      \r\n      // Parse as JSON only if there's content\r\n      let data = {};\r\n      if (responseText) {\r\n        try {\r\n          data = JSON.parse(responseText);\r\n        } catch (e) {\r\n          console.error('Failed to parse response:', responseText);\r\n          throw new Error('Invalid JSON response from server');\r\n        }\r\n      } else {\r\n        throw new Error('No response from server');\r\n      }\r\n\r\n      // Check response status\r\n      if (!response.ok) {\r\n        throw new Error(data.error?.message || `Server error: ${response.status}`);\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      // Better error messages\r\n      if (error.message.includes('Failed to fetch')) {\r\n        throw new Error('Cannot connect to backend. Make sure it is running on http://localhost:5000');\r\n      }\r\n      throw new Error(error.message || 'Network error');\r\n    }\r\n  }\r\n}\r\n\r\nexport default new APIService();\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAEjF,MAAMC,UAAU,CAAC;EACf,MAAMC,UAAUA,CAACC,SAAS,EAAEC,QAAQ,EAAE;IACpC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGT,YAAY,QAAQ,EAAE;QACpDU,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBR,SAAS,EAAES,QAAQ,CAACT,SAAS,CAAC;UAC9BC,QAAQ,EAAEQ,QAAQ,CAACR,QAAQ;QAC7B,CAAC;MACH,CAAC,CAAC;;MAEF;MACA,MAAMS,YAAY,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;;MAE1C;MACA,IAAIC,IAAI,GAAG,CAAC,CAAC;MACb,IAAIF,YAAY,EAAE;QAChB,IAAI;UACFE,IAAI,GAAGL,IAAI,CAACM,KAAK,CAACH,YAAY,CAAC;QACjC,CAAC,CAAC,OAAOI,CAAC,EAAE;UACVC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEN,YAAY,CAAC;UACxD,MAAM,IAAIO,KAAK,CAAC,mCAAmC,CAAC;QACtD;MACF,CAAC,MAAM;QACL,MAAM,IAAIA,KAAK,CAAC,yBAAyB,CAAC;MAC5C;;MAEA;MACA,IAAI,CAACf,QAAQ,CAACgB,EAAE,EAAE;QAAA,IAAAC,WAAA;QAChB,MAAM,IAAIF,KAAK,CAAC,EAAAE,WAAA,GAAAP,IAAI,CAACI,KAAK,cAAAG,WAAA,uBAAVA,WAAA,CAAYC,OAAO,KAAI,iBAAiBlB,QAAQ,CAACmB,MAAM,EAAE,CAAC;MAC5E;MAEA,OAAOT,IAAI;IACb,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd;MACA,IAAIA,KAAK,CAACI,OAAO,CAACE,QAAQ,CAAC,iBAAiB,CAAC,EAAE;QAC7C,MAAM,IAAIL,KAAK,CAAC,6EAA6E,CAAC;MAChG;MACA,MAAM,IAAIA,KAAK,CAACD,KAAK,CAACI,OAAO,IAAI,eAAe,CAAC;IACnD;EACF;AACF;AAEA,eAAe,IAAItB,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}